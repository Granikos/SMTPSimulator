
<div class="modal-header">
    <h4 class="modal-title"><span class="glyphicon glyphicon-calendar"></span> Edit Timetable</h4>
</div>

<div class="modal-body clearfix">
    <form role="form" name="typeForm" ng-submit="typeForm.$valid && $close()">
        <div class="form-group">
            <label>Interval Type</label>
            <label class="radio-inline">
                <input type="radio" value="1h" name="IntervalType" ng-model="$parent.timeTable.Parameters.type" ng-change="refreshIntervals()" /> 1 hour
            </label>
            <label class="radio-inline">
                <input type="radio" value="15min" name="IntervalType" ng-model="$parent.timeTable.Parameters.type" ng-change="refreshIntervals()" /> 15 min
            </label>
        </div>
        <table ng-init="totalIndex = -1" class="timeSelector">
            <colgroup>
                <col style="width: 7em;" />
                <col ng-repeat="interval in intervals track by $index" />
            </colgroup>
            <tr style="font-weight: bold;">
                <th></th>
                <th colspan="{{2 * factor}}" class="morning"></th>
                <th colspan="{{8 * factor}}" style="text-align: center;">6 AM</th>
                <th colspan="{{4 * factor}}" class="noon">☀</th>
                <th colspan="{{8 * factor}}" style="text-align: center;">6 PM</th>
                <th colspan="{{2 * factor}}" class="evening"></th>
            </tr>
            <tr class="biginterval">
                <th></th>
                <td colspan="{{6 * factor}}"></td>
                <td colspan="{{6 * factor}}"></td>
                <td colspan="{{6 * factor}}"></td>
                <td colspan="{{6 * factor}}"></td>
            </tr>
            <tr class="smallinterval">
                <th></th>
                <td ng-repeat="interval in intervals track by $index"></td>
            </tr>
            <tr class="dataRow" ng-repeat="day in days" ng-init="dayIndex = $index">
                <th>{{day}}</th>
                <td ng-repeat="interval in intervals track by $index" ng-class="{'selected': $parent.$parent.timeTable.TimeData[offset(dayIndex, $index)] === '1'}"></td>
            </tr>
        </table>
        <button type="submit" class="btn btn-success pull-right"><i class="glyphicon glyphicon-plus-sign"></i> Close</button>
    </form>
</div>