<div class="modal-header">
    <h4 class="modal-title"><span class="glyphicon glyphicon-upload"></span> Generate Users</h4>
</div>

<div class="modal-body clearfix">
    <progressbar ng-show="generate.started" value="( generate.current * 1000 ) / generate.max" max="1000">
        <b style="white-space: nowrap;">{{generate.current}} / {{generate.max}}</b>
    </progressbar>

    <div ng-show="generate.errors.length > 0" style="max-height: 400px; overflow: auto;">
        <div class="alert alert-danger" role="alert" ng-repeat="error in generate.errors">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <strong>Error:</strong> {{error.message}}
        </div>
    </div>

    <form role="form" name="generateForm" ng-submit="!generate.started && generateForm.$valid && startGeneration()" ng-show="!generate.started">
        <div class="form-group">
            <label for="numberOfUsers">Number of Users</label>
            <input type="number" class="form-control" id="numberOfUsers" placeholder="Enter number of users" ng-model="generate.numberOfUsers" min="1" required />
        </div>
        <div class="form-group">
            <label for="domain">Domain for Users' Mailboxes</label>
            <input type="text" class="form-control" id="domain" placeholder="Enter domain" ng-model="generate.domain" required />
        </div>
        <button type="submit" class="btn btn-default pull-right">Start</button>
    </form>

    <button class="btn btn-default pull-right" ng-show="generate.done" ng-click="$close()" style="margin-top: 10px">Close</button>
</div>